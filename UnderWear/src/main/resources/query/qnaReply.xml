<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.client.qnaReply.dao.QnaReviewDao">

<!-- 댓글 전체 조회 (해당 게시물 번호에 대해 ) -->
	<select id="qnaReplyList" parameterType="qnaReply" resultType="qnaReply">
		select qrp_no, q_no, qrp_content, to_char(qrp_date,'YYYY-MM-DD HH24:MI:SS') as qrp_date
		 from q_reply
		where q_no = #{q_no} order by qrp_no desc
	</select>
	
	<!-- 댓글 등록  -->
	 <insert id="qnaReplyInsert" parameterType="qnaReply">
		/*qnaReply - qnaReplyInsert */
		<selectKey keyProperty="qrp_no" resultType="int" order="BEFORE">
			select q_Reply_seq.nextval from dual
		</selectKey>
		insert into q_Reply(
			qrp_no, q_no,  qrp_content
		)values(
			#{qrp_no}, #{q_no}, ,#{qrp_content}
		)
	</insert> 
</mapper>